<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//FR">
<html>
<head>
<title>Chapitre 7 - Les Séries de blocs</title>
<meta http-equiv="content-type" content="text/html;CHARSET=iso-8859-15">
<meta http-equiv="pragma" content="no-cache">
<meta http-equiv="expires" content="-1"> 
<META NAME="KEYWORDS" CONTENT="REBOL, rebel, distributed computing, X Internet, X-Internet, xnet, executable internet, distributed applications, distributed platform, internet platform, internet programming, client-side computing, distributed desktop, platform independent, system independent, machine independent, operating system, programming language, scripting language, scripting, messaging, dialect, dialecting, e-content, direct Internet delivery, command">
<META NAME="Description" CONTENT="REBOL Technologies provides advanced, system-independent communication technology for the X Internet.">
<title>Chapitre 7 - Les Séries de blocs</title>
<style type="text/css">

body, p, td {font-family: arial, sans-serif, helvetica; font-size: 9pt;}

tt {font-family: "courier new", monospace, courier; font-size: 9pt;}
.title {Font-Size: 16 pt; Font-Weight: bold;}

/* style du header présentant le doc */
.header { padding: 10pt; padding-left: 20pt; margin-right: 30pt; width:"660px"; background-color: #e5e5e5; 
font-family: arial, sans-serif, helvetica; font-size: 9pt; font-weight: normal;}

/*  Le style du lien pour remonter à la Table des Matières  */
.top { font-size:8pt; text-align: right; color: #872C2C; width: 100%; }
/*  Le style des Notes  */
.note {
	margin: 1em 2em;
	padding: 1em;
	width: 85%;
	color: white;
	background-color: #B16C62;
	border: solid gray 1px;
	text-align:justify;
}
/*  Les styles des items de la table des matières  */
.toc1 {margin-left: 1cm; font-size: 10pt; font-weight: bold;}
.toc2 {margin-left: 2cm; font-size: 9pt; font-weight: bold; text-decoration: none;}
.toc3 {margin-left: 3cm; font-size: 8pt; text-decoration: none;}
.toc4 {margin-left: 4cm; font-size: 8pt; color: grey; text-decoration: none;}


h1 {font-size: 12pt;}
h2 {font-size: 10pt; color: #2030a0; width: 100%; border-bottom: 1px solid #c09060;}
h3 {font-size: 10pt; color: #2030a0;}
h4 {font-size: 9pt; color: #2030a0; font-weight: bold;}
h5 {font-size: 9pt; font-weight: bold;}

/*  Les styles du code et des outputs  */
pre {font: bold 9pt "courier new", monospace, console; color: #000000;
    background-color: #e0e0e0; padding: 16px; border: solid #a0a0a0 1px;}
.output {color: #000080; font-weight: normal;}

/*  Les styles des tableaux  */
.md-table table {font-family: verdana, arial, sans-serif, helvetica; 
border: solid black 1px;}

.md-header td {font-family: verdana, arial, sans-serif, helvetica; 
border: solid black 1px; background-color: silver;
font: bold 8pt; color: black; text-align: center;}

.md-cell td {font-family: verdana, arial, sans-serif, helvetica; 
border: solid #454545 1px;
font-size: 8pt; color: black; text-align: top}

/* style de la mention finale */
.tail {color: gray; font-size: 8pt;}

</style>
</head>
<body bgcolor="white"><h4 id="top" >&nbsp;</h4>
<center>
<table width="660" cellpadding="4" cellspacing="0" border="0">
<tr>
<td>
<a href="http://www.rebol.com/docs.html">
<img src="http://www.rebol.com/graphics/doc-bar.gif" width="680" height="28" align="bottom" alt="rebol document" border="0" usemap="#bar-map" ismap>
</a>
</td>

</tr>
<tr height="10"><td></td></tr>
<tr><td>
<p><h1 class="title" >Chapitre 7 - Les Séries de blocs</h1>
<div class="header">
Ce document est la traduction française du Chapitre 7 du User Guide de REBOL/Core, qui concerne <br />les séries sous forme de blocs.
</div>




<h2 class="toc-title" >Contenu </h2>
<a class="toc1" href="fr-rebolcore-7.html#section-1">1. Historique de la traduction</a><br />
<a class="toc1" href="fr-rebolcore-7.html#section-2">2. Blocs de Blocs</a><br />
<a class="toc1" href="fr-rebolcore-7.html#section-3">3. Paths, chemins pour les blocs imbriqués</a><br />
<a class="toc1" href="fr-rebolcore-7.html#section-4">4. Tableaux</a><br />
<a class="toc2" href="fr-rebolcore-7.html#section-4.1">4.1 Création de tableaux</a><br />
<a class="toc2" href="fr-rebolcore-7.html#section-4.2">4.2 Valeurs initiales</a><br />
<a class="toc1" href="fr-rebolcore-7.html#section-5">5. Composition de blocs</a><br />
<p>
<div class="top">[ <a href="#top">Retour au sommaire</a> ]</div>


<h2 id="section-1">1. Historique de la traduction</h2>
<blockquote>
<table class="md-table" border=1 cellspacing="1" cellpadding="4" >
        <tr class="md-header"><td><b>
<p>Date</p>
</b></td><td><b>
<p>Version</p>
</b></td><td><b>
<p>Commentaires</p>
</b></td><td><b>
<p>Auteur</p>
</b></td><td><b>
<p>Email</p>
</td></tr><tr class="md-cell" ><td>
<p>22 mai 2005 7:42</p>
</td><td>
<p>1.0.0</p>
</td><td>
<p>Traduction initiale</p>
</td><td>
<p>Philippe Le Goff</p>
</td><td>
<p>lp--legoff--free--fr</p>
</td></tr></table>
<p>
<p><br />
<br /></p>
</blockquote>
<p>
<div class="top">[ <a href="#top">Retour au sommaire</a> ]</div>


<h2 id="section-2">2. Blocs de Blocs</h2>
<blockquote>
<p>Quand un bloc apparaît en tant que valeur au sein d'un autre bloc, il est compté 
comme un <b>seul</b> élément et cela, quelque soit le nombre de valeurs qu'il contient.</p>
<p>Par exemple :</p>
<pre>
values: [
    "new" [1 2]
    %file1.txt ["one" ["two" %file2.txt]]
]
probe values
<span class="output">["new" [1 2] %file1.txt ["one" ["two" %file2.txt]]]</span>
</pre>
<p>La longueur de <i>values</i> est quatre éléments. La seconde et la quatrième valeur 
sont comptés comme des éléments unitaires :</p>
<pre>
print length? values
<span class="output">4</span>
</pre>
<p>Les blocs à l'intérieur d'autres blocs ne perdent pas leur 
caractéristique de bloc. Dans l'exemple ci-dessous, la fonction <b>second</b> 
est utilisée pour extraire la deuxième valeur du bloc <i>values</i>. 
<br>Pour afficher le bloc, saisissez :</p>
<pre>
probe second values
<span class="output">[1 2]</span>
</pre>
<p>Pour connaître la longueur de ce bloc, tapez :</p>
<pre>
print length? second values
<span class="output">2</span>
</pre>
<p>Pour afficher le type de données (datatype) :</p>
<pre>
print type? second values
<span class="output">block</span>
</pre>
<p>De la même manière, les fonctions sur les séries peuvent être exploitées sur 
d'autres types de valeurs dans les blocs. Dans l'exemple suivant, <b>pick</b> 
est utilisé pour extraire <i>%file1.txt</i> du bloc <i>values</i>.</p>
<p>Pour récupérer la valeur du troisième élément, saisissez :</p>
<pre>
probe pick values 3
<span class="output">%file1.txt</span>
</pre>
<p>Pour récupérer la longueur de la valeur :</p>
<pre>
print length? pick values 3
<span class="output">9</span>
</pre>
<p>Pour voir le type de données associé à la valeur extraite :</p>
<pre>
print type? pick values 3
<span class="output">file</span>
</pre>
</blockquote>
<p>
<div class="top">[ <a href="#top">Retour au sommaire</a> ]</div>


<h2 id="section-3">3. Paths, chemins pour les blocs imbriqués</h2>
<blockquote>
<p>La notation avec les paths est très pratique pour les blocs 
imbriqués.</p>
<p>La quatrième valeur de la série <i>values</i> est un bloc 
contenant d'autres blocs. L'exemple suivant utilise un path pour récupérer 
des informations dans ce bloc.</p>
<p>Pour voir les valeurs de ce bloc, tapez :</p>
<pre>
probe values/4
<span class="output">["one" ["two" %file2.txt]]</span>
probe values/4/2
<span class="output">["two" %file2.txt]</span>
</pre>
<p>Pour obtenir les longueurs :</p>
<pre>
print length? values/4
<span class="output">2</span>
print length? values/4/2
<span class="output">2</span>
</pre>
<p>Et pour voir le type de données, saisissez :</p>
<pre>
print type? values/4
<span class="output">block</span>
print type? values/4/2
<span class="output">block</span>
</pre>
<p>Les deux séries contenues dans cette quatrième valeur sont aisément  
accessibles. Pour voir ces valeurs, tapez :</p>
<pre>
probe values/4/2/1
<span class="output">two</span>
probe values/4/2/2
<span class="output">%file2.txt</span>
</pre>
<p>Pour obtenir les longueurs de ces valeurs :</p>
<pre>
print length? values/4/2/1
<span class="output">3</span>
print length? values/4/2/2
<span class="output">9</span>
</pre>
<p>et pour leurs datatypes (types de données) :</p>
<pre>
print type? values/4/2/1
<span class="output">string</span>
print type? values/4/2/2
<span class="output">file</span>
</pre>
<p>Pour modifier ces valeurs :</p>
<pre>
change (next values/4/2/1) "o"
probe values/4/2/1
<span class="output">too</span>
change/part (next find values/4/2/2 ".") "r" 3
probe values/4/2/2
<span class="output">%file2.r</span>
</pre>
<p>Les exemples précédents illustrent la capacité que possède REBOL 
à manipuler des valeurs imbriquées dans des blocs. 
Notez que, dans les derniers exemples, la fonction <b>change</b> est utilisée 
pour modifier une chaîne et un nom de fichier avec trois niveaux d'imbrication.</p>
<p>L'affichage du bloc <i>values</i> produit le résultat suivant :</p>
<pre>
probe values
<span class="output">["new" [1 2] %file1.txt ["one" ["too" %file2.r]]]</span>
</pre>
</blockquote>
<p>
<div class="top">[ <a href="#top">Retour au sommaire</a> ]</div>


<h2 id="section-4">4. Tableaux</h2>
<blockquote>
<p>Les blocs sont utilisés pour créer des tableaux. 
Un exemple de tableau bi-dimensionnel statique est :</p>
<pre>
arr: [
    [1   2   3  ]
    [a   b   c  ]
    [$10 $20 $30]
]
</pre>
<p>Vous pouvez obtenir les valeurs d'un tableau avec les fonctions 
d'extraction relatives aux séries :</p>
<pre>
probe first arr
<span class="output">[1 2 3]</span>
probe pick arr 3
<span class="output">[$10.00 $20.00 $30.00]</span>
probe first first arr
<span class="output">1</span>
</pre>
<p>Vous pouvez aussi utiliser des paths pour obtenir les valeurs d'un tableau :</p>
<pre>
probe arr/1
<span class="output">[1 2 3]</span>
probe arr/3
<span class="output">[$10.00 $20.00 $30.00]</span>
probe arr/3/2
<span class="output">$20.00</span>
</pre>
<p>Les paths peuvent encore être utilisés pour changer les valeurs 
dans un tableau :</p>
<pre>
arr/1/2: 20

probe arr/1
<span class="output">[1 20 3]</span>
arr/3/2: arr/3/1 + arr/3/3

probe arr/3/2
<span class="output">$40.00</span>
</pre>
</blockquote>
<p>
<h3 id="section-4.1">4.1 Création de tableaux</h3>
<blockquote>
<p>La fonction <b>array</b> crée dynamiquement un tableau.</p>
<p>Cette fonction prend en argument soit un nombre entier, soit un bloc de nombres entiers, 
et elle retourne en résultat un bloc : le tableau. 
Par défaut, les cellules d'un tableau sont initialisées à <b>none</b>.</p>
<p>Pour initialiser les cellules d'un tableau avec d'autres valeurs, utilisez le 
raffinement <b>/initial</b>, qui est expliqué dans la section suivante.</p>
<p>Lorsqu'un tableau est fourni avec <b>un seul nombre entier</b>, c'est un tableau 
à <b>une dimension</b>, de la taille du nombre, qui est retourné.</p>
<pre>
arr: array 5
probe arr
<span class="output">[none none none none none]</span>
</pre>
<p>Quand un bloc de plusieurs nombres entiers est passé en argument, 
le tableau est à plusieurs dimensions. 
<br>Chaque nombre entier donne respectivement la taille de la dimension correspondante.</p>
<p>Voici un exemple d'un tableau possédant six cellules, sur deux lignes et trois colonnes :</p>
<pre>
arr: array [2 3]
probe arr
<span class="output">[[none none none] [none none none]]</span>
</pre>
<p>Il est possible de faire un tableau à trois dimensions 
en rajoutant un autre nombre entier au bloc en argument :</p>
<pre>
arr: array [2 3 2]
foreach lst arr [probe lst]
<span class="output">[[none none] [none none] [none none]]
[[none none] [none none] [none none]]</span>
</pre>
<p>Le bloc d'entiers qui est passé à la fonction <b>array</b> peut être 
très grand selon ce que la mémoire de votre système supporte.</p>
</blockquote>
<p>
<h3 id="section-4.2">4.2 Valeurs initiales</h3>
<blockquote>
<p>Pour initialiser les cellules d'un tableau à une valeur 
autre que <b>none</b>, utilisez le raffinement <b>/initial</b>.</p>
<p>Voici quelques exemples :</p>
<pre>
arr: array/initial 5 0
probe arr
<span class="output">[0 0 0 0 0]</span>
arr: array/initial [2 3] 0
probe arr
<span class="output">[[0 0 0] [0 0 0]]</span>
arr: array/initial 3 "a"
probe arr
<span class="output">["a" "a" "a"]</span>
arr: array/initial [3 2] 'word
probe arr
<span class="output">[[word word] [word word] [word word]]</span>
arr: array/initial [3 2 1] 11:11
probe arr
<span class="output">[[[11:11] [11:11]] [[11:11] [11:11]] [[11:11] [11:11]]]</span>
</pre>
</blockquote>
<p>
<div class="top">[ <a href="#top">Retour au sommaire</a> ]</div>


<h2 id="section-5">5. Composition de blocs</h2>
<blockquote>
<p>La fonction <b>compose</b> est pratique pour créer des blocs avec des valeurs 
dynamiques. Elle peut être utilisée pour créer aussi bien des données et du code.</p>
<p>La fonction <b>compose</b> attend un bloc en argument et renvoie en résultat un bloc 
composé de chacune des valeurs du bloc en argument.</p>
<p>Les valeurs entre parenthèses sont évaluées en priorité, 
avant que le bloc ne soit retourné. <br>Par exemple :</p>
<pre>
probe compose [1 2 (3 + 4)]
<span class="output">[1 2 7]</span>
probe compose ["The time is" (now/time)]
<span class="output">["The time is" 10:32:45]</span>
</pre>
<p>Si des parenthèses encadrent un bloc, alors chaque valeur de ce bloc sera 
utilisée :</p>
<pre>
probe compose [a b ([c d])]
<span class="output">[a b c d]</span>
</pre>
<p>Pour éviter cela dans le résultat, vous devez inclure ce bloc dans un autre bloc :</p>
<p>(<b><u>NdT</u></b> : c'est-à-dire protéger le bloc par un autre bloc).</p>
<pre>
probe compose [a b ([[c d]])]
<span class="output">[a b [c d]]</span>
</pre>
<p>Un bloc sans éléments est sans effet  :</p>
<pre>
probe compose [a b ([]) c d]
<span class="output">[a b c d]</span>
</pre>
<p>Lorsque <b>compose</b> s'applique sur un bloc comprenant des sous-blocs, les sous-blocs 
ne sont pas évalués, même s'ils contiennent des parenthèses :</p>
<pre>
probe compose [a b [c (d e)]]
<span class="output">[a b [c (d e)]]</span>
</pre>
<p>Si vous souhaitez que les sous-blocs soient évalués, utilisez le raffinement <b>/deep</b>. 
Le raffinement <b>/deep</b> entraîne l'évaluation de toutes les valeurs entre parenthèses, 
indépendamment de la position où elles se trouvent :</p>
<pre>
probe compose/deep [a b [c (d e)]]
<span class="output">[a b [c d e]]</span>
</pre>
</blockquote><br><br><hr><br><center><span class="tail">Updated 8-Apr-2005 - <a href="http://www.rebol.com">Copyright REBOL Technologies</a> - Formatted with MakeDoc2 - Translation by Philippe Le Goff</span></center><blockquote>
</blockquote>
</p>
</td></tr>
</table>
</center>


<map name="bar-map">
<area shape="rect" coords="0,0,150,28"   href="http://www.rebol.com" alt="REBOL.com">
<area shape="rect" coords="175,0,275,28" href="http://www.rebol.com/docs.html" alt="Documents">
<area shape="rect" coords="285,0,365,28" href="http://www.rebol.com/docs/core23/rebolcore.html" alt="Manual">
<area shape="rect" coords="375,0,445,28" href="http://www.rebol.com/docs/dictionary.html" alt="Dictionary">
<area shape="rect" coords="452,0,500,28" href="http://www.rebol.com/library.html" alt="Library">
<area shape="rect" coords="510,0,575,28" href="http://www.rebol.com/feedback.html" alt="Feedback">
</map>

</body>
</html>